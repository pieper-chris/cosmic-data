{"ast":null,"code":"import _regeneratorRuntime from\"/Users/christopherpieper/Desktop/cosmic-data/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/christopherpieper/Desktop/cosmic-data/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/christopherpieper/Desktop/cosmic-data/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import Apod from'./apod.js';import'./App.css';function ApodCollapsibleHeader(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),apod=_useState2[0],setApod=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),toggle=_useState4[0],setToggle=_useState4[1];useEffect(function(){getApod();},[]);var getApod=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var today,dd,mm,yyyy,day,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:/* Get day in YYYY-MM-DD format for fetch*/today=new Date();dd=today.getDate();mm=today.getMonth()+1;yyyy=today.getFullYear();if(dd<10){dd='0'+dd;};if(mm<10){mm='0'+mm;};day=yyyy+'-'+mm+'-'+dd;console.log(day);_context.next=12;return fetch('https://api.nasa.gov/planetary/apod?'+new URLSearchParams({date:day,hd:true,api_key:'WMtTrqwesceUk1odHg4uWnSjNH2FMdWVQdw0h6zG'}));case 12:response=_context.sent;_context.next=15;return response.json();case 15:data=_context.sent;setApod(data);console.log(data);case 18:case\"end\":return _context.stop();}}},_callee);}));return function getApod(){return _ref.apply(this,arguments);};}();var toggle_change=function toggle_change(){setToggle(!toggle);};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{onClick:function onClick(e){return toggle_change();},className:\"toggle_list\"},\"NASA Astronomy Picture of the Day\"),toggle?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Apod,{name:apod.title,copyright:apod.copyright,explanation:apod.explanation,img_url:apod.hdurl})):null);}export default ApodCollapsibleHeader;","map":{"version":3,"sources":["/Users/christopherpieper/Desktop/cosmic-data/src/apod_collapsible_header.js"],"names":["React","useEffect","useState","Apod","ApodCollapsibleHeader","apod","setApod","toggle","setToggle","getApod","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","day","console","log","fetch","URLSearchParams","date","hd","api_key","response","json","data","toggle_change","e","title","copyright","explanation","hdurl"],"mappings":"seAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,MAAOC,CAAAA,IAAP,KAAiB,WAAjB,CACA,MAAO,WAAP,CAEA,QAASC,CAAAA,qBAAT,EAAkC,eACRF,QAAQ,CAAC,EAAD,CADA,wCACzBG,IADyB,eACnBC,OADmB,8BAEJJ,QAAQ,CAAC,KAAD,CAFJ,yCAEzBK,MAFyB,eAEjBC,SAFiB,eAIhCP,SAAS,CAAC,UAAM,CACdQ,OAAO,GACR,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMA,CAAAA,OAAO,0FAAG,0KACd,2CACMC,KAFQ,CAEA,GAAIC,CAAAA,IAAJ,EAFA,CAGVC,EAHU,CAGLF,KAAK,CAACG,OAAN,EAHK,CAIVC,EAJU,CAILJ,KAAK,CAACK,QAAN,GAAiB,CAJZ,CAKVC,IALU,CAKHN,KAAK,CAACO,WAAN,EALG,CAMd,GAAGL,EAAE,CAAC,EAAN,CAAU,CAACA,EAAE,CAAC,IAAIA,EAAP,CAAW,EACtB,GAAGE,EAAE,CAAC,EAAN,CAAU,CAAEA,EAAE,CAAC,IAAIA,EAAP,CAAU,EAClBI,GARU,CAQJF,IAAI,CAAC,GAAL,CAASF,EAAT,CAAY,GAAZ,CAAgBF,EARZ,CASdO,OAAO,CAACC,GAAR,CAAYF,GAAZ,EATc,uBAUSG,CAAAA,KAAK,CAAC,uCACzB,GAAIC,CAAAA,eAAJ,CAAoB,CACpBC,IAAI,CAAEL,GADc,CAEpBM,EAAE,CAAE,IAFgB,CAGpBC,OAAO,CAAE,0CAHW,CAApB,CADwB,CAVd,SAURC,QAVQ,sCAgBKA,CAAAA,QAAQ,CAACC,IAAT,EAhBL,SAgBRC,IAhBQ,eAiBdtB,OAAO,CAACsB,IAAD,CAAP,CACAT,OAAO,CAACC,GAAR,CAAYQ,IAAZ,EAlBc,uDAAH,kBAAPnB,CAAAA,OAAO,0CAAb,CAqBA,GAAMoB,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1BrB,SAAS,CAAC,CAACD,MAAF,CAAT,CACD,CAFD,CAIA,mBACE,4CACE,yBAAG,OAAO,CAAE,iBAAAuB,CAAC,QAAID,CAAAA,aAAa,EAAjB,EAAb,CAAkC,SAAS,CAAC,aAA5C,sCADF,CAIGtB,MAAM,cACL,4CACI,oBAAC,IAAD,EACA,IAAI,CAAEF,IAAI,CAAC0B,KADX,CAEA,SAAS,CAAE1B,IAAI,CAAC2B,SAFhB,CAGA,WAAW,CAAE3B,IAAI,CAAC4B,WAHlB,CAIA,OAAO,CAAE5B,IAAI,CAAC6B,KAJd,EADJ,CADK,CAQE,IAZX,CADF,CAgBD,CAED,cAAe9B,CAAAA,qBAAf","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport Apod from './apod.js';\nimport './App.css';\n\nfunction ApodCollapsibleHeader () {\n  const [apod, setApod] = useState([]);\n  const [toggle, setToggle] = useState(false);\n\n  useEffect(() => {\n    getApod();\n  }, []);\n\n  const getApod = async () => {\n    /* Get day in YYYY-MM-DD format for fetch*/\n    const today = new Date();\n    var dd = today.getDate();\n    var mm = today.getMonth()+1;\n    var yyyy = today.getFullYear();\n    if(dd<10) {dd='0'+dd;};\n    if(mm<10) { mm='0'+mm};\n    var day = yyyy+'-'+mm+'-'+dd;\n    console.log(day);\n    const response = await fetch('https://api.nasa.gov/planetary/apod?'\n      + new URLSearchParams({\n        date: day,\n        hd: true,\n        api_key: 'WMtTrqwesceUk1odHg4uWnSjNH2FMdWVQdw0h6zG',\n      }));\n    const data = await response.json();\n    setApod(data);\n    console.log(data);\n  };\n\n  const toggle_change = () => {\n    setToggle(!toggle);\n  };\n\n  return (\n    <div>\n      <p onClick={e => toggle_change()} className=\"toggle_list\">\n        NASA Astronomy Picture of the Day\n      </p>\n      {toggle?(\n        <div>\n            <Apod\n            name={apod.title}\n            copyright={apod.copyright}\n            explanation={apod.explanation}\n            img_url={apod.hdurl}\n            />\n      </div>): null}\n   </div>\n  );\n}\n\nexport default ApodCollapsibleHeader;\n"]},"metadata":{},"sourceType":"module"}